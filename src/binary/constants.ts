export const TAGS = {
  LIST_EMPTY: 0,
  DICTIONARY_0: 236,
  DICTIONARY_1: 237,
  DICTIONARY_2: 238,
  DICTIONARY_3: 239,
  AD_JID: 247,
  LIST_8: 248,
  LIST_16: 249,
  JID_PAIR: 250,
  HEX_8: 251,
  BINARY_8: 252,
  BINARY_20: 253,
  BINARY_32: 254,
  NIBBLE_8: 255,
  PACKED_MAX: 127,
  SINGLE_BYTE_MAX: 256,
  STREAM_END: 2,
};

export const SINGLE_BYTE_TOKENS: (string | null)[] = [
  null,
  null,
  null,
  "account",
  "ack",
  "action",
  "active",
  "add",
  "after",
  "all",
  "allow",
  "apple",
  "audio",
  "auth",
  "author",
  "available",
  "bad-protocol",
  "bad-request",
  "before",
  "body",
  "broadcast",
  "busy",
  "call",
  "cancel",
  "cart",
  "chat",
  "chatstate",
  "clean",
  "code",
  "composing",
  "config",
  "contacts",
  "count",
  "create",
  "creation",
  "debug",
  "default",
  "delete",
  "delivery",
  "delta",
  "deny",
  "device",
  "device_list",
  "dialing",
  "digest",
  "dirty",
  "duplicate",
  "eph_setting",
  "ephemeral",
  "error",
  "event",
  "expiration",
  "expired",
  "fail",
  "failure",
  "false",
  "favorites",
  "feature",
  "features",
  "feature_flags",
  "field",
  "first",
  "free",
  "from",
  "g.us",
  "get",
  "google",
  "group",
  "groups",
  "groups_v2",
  "groupinfo",
  "hard",
  "has",
  "height",
  "hex",
  "host",
  "hostname",
  "ib",
  "id",
  "image",
  "img",
  "index",
  "internal-server-error",
  "ip4",
  "ip6",
  "is_new",
  "item",
  "item-not-found",
  "jid",
  "key",
  "kind",
  "last",
  "leave",
  "live",
  "log",
  "logout",
  "map",
  "max",
  "membership",
  "message",
  "messages",
  "message_acks",
  "media",
  "media_conn",
  "meta",
  "metadata",
  "method",
  "microsoft",
  "mimetype",
  "missing",
  "mix",
  "mobile",
  "modify",
  "mute",
  "name",
  "namespace",
  "net",
  "new",
  "next",
  "node",
  "nodes",
  "none",
  "not-acceptable",
  "not-allowed",
  "not-authorized",
  "notification",
  "notify",
  "now",
  "null",
  "number",
  "offline",
  "order",
  "owner",
  "paid",
  "participant",
  "participants",
  "participating",
  "passive",
  "paused",
  "picture",
  "pin",
  "ping",
  "pkmsg",
  "platform",
  "played",
  "policy-violation",
  "pop",
  "port",
  "presence",
  "preview",
  "privacy",
  "probe",
  "proceed",
  "product",
  "products",
  "promote",
  "props",
  "protocol",
  "psa",
  "public",
  "push",
  "query",
  "qr",
  "raw",
  "read",
  "readreceipts",
  "reason",
  "receipt",
  "relay",
  "remote",
  "remove",
  "request",
  "required",
  "resource-constraint",
  "resource",
  "response",
  "result",
  "retry",
  "rim",
  "s.whatsapp.net",
  "seconds",
  "security",
  "seen",
  "send",
  "server",
  "server-error",
  "service-unavailable",
  "set",
  "show",
  "silent",
  "skmsg",
  "solid",
  "spam",
  "start",
  "status",
  "stream:error",
  "stream:features",
  "subject",
  "subscribe",
  "sync",
  "system-shutdown",
  "t",
  "tag",
  "terminate",
  "text",
  "thumbnail-direct",
  "thumbnail-hq",
  "thumbnail-sha256",
  "thumbnail",
  "timeout",
  "timestamp",
  "tos",
  "true",
  "type",
  "unavailable",
  "unsubscribe",
  "unarchive",
  "uri",
  "url",
  "urn:xmpp:ping",
  "urn:xmpp:whatsapp:account",
  "urn:xmpp:whatsapp:dirty",
  "urn:xmpp:whatsapp:mms",
  "urn:xmpp:whatsapp:push",
  "user",
  "user-not-found",
  "vcard",
];

export const DOUBLE_BYTE_TOKENS: string[][] = [
  [
    "account_sync",
    "admin",
    "announcement",
    "audio",
    "call",
    "call-id",
    "call-key",
    "calls",
    "read",
    "played",
    "canonical",
    "cart",
    "catalog",
    "catalog_not_created",
    "category",
    "challenge",
    "chat",
    "chatstate",
    "ciphertext",
    "clear",
    "code",
    "composing",
    "config",
    "config_code",
    "config_value",
    "contact",
    "contacts",
    "content",
    "count",
    "country_code",
    "create",
    "creation",
    "currency",
    "dhash",
    "delete",
    "demote",
    "description",
    "device",
    "device_fanout",
    "devices",
    "directed_paths",
    "dirty",
    "document",
    "edit",
    "elapsed",
    "enable",
    "encoding",
    "encrypt",
    "ephemeral",
    "ephemeral_setting",
    "error",
    "event",
    "expiration",
    "false",
    "favorites",
    "feature",
    "features",
    "fieldstats",
    "file",
    "final",
    "first",
    "free_space",
    "from_ip",
    "gcm",
  ],
  [],
  [],
  [],
];

export const TOKEN_MAP: { [token: string]: { dict?: number; index: number } } =
  {};

SINGLE_BYTE_TOKENS.forEach((token, i) => {
  if (token) {
    TOKEN_MAP[token] = { index: i };
  }
});

DOUBLE_BYTE_TOKENS.forEach((dict, i) => {
  dict.forEach((token, j) => {
    TOKEN_MAP[token] = { dict: i, index: j };
  });
});
